---
created: 2026-01-28T21:10:25 (UTC -05:00)
tags: []
source: https://help.autodesk.com/view/RVT/2023/ENU/?guid=Revit_API_Revit_API_Developers_Guide_Discipline_Specific_Functionality_Structural_Engineering_Analytical_Links_html
author: 
---

# Help | Analytical Links | Autodesk

> ## Excerpt
> An analytical link is an element connecting 2 separate analytical nodes, which has properties such as fixity state. Analytical links can be created automatically by Revit from analytical beams to analytical columns during modeling based on certain rules. And they can also be created manually, both in the Revit UI and using the Revit API.

---
An analytical link is an element connecting 2 separate analytical nodes, which has properties such as fixity state. Analytical links can be created automatically by Revit from analytical beams to analytical columns during modeling based on certain rules. And they can also be created manually, both in the Revit UI and using the Revit API.

In the Revit API, an analytical link is represented by the AnalyticalLink class. Fixity values are available from its associated AnalyticalLinkType.

The example below demonstrates how to read all of the AnalyticalLinks in the document and displays a TaskDialog summarizing the number of automatically generated and manually created AnalyticalLinks.

<table summary="" id="GUID-1A23FBA5-8781-40F7-8B72-36D58DB7BB7F__TABLE_3FB62346E3AE4F038D6A7FB827D45323"><tbody><tr><td><b>Code Region: Reading AnalyticalLinks</b></td></tr><tr><td><pre><code><span>public</span><span> </span><span>void</span><span> </span><span>ReadAnalyticalLinks</span><span>(</span><span>Document</span><span> document</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>FilteredElementCollector</span><span> collectorAnalyticalLinks </span><span>=</span><span> </span><span>new</span><span> </span><span>FilteredElementCollector</span><span>(</span><span>document</span><span>);</span><span>
    collectorAnalyticalLinks</span><span>.</span><span>OfClass</span><span>(</span><span>typeof</span><span>(</span><span>AnalyticalLink</span><span>));</span><span>

    </span><span>IEnumerable</span><span>&lt;</span><span>AnalyticalLink</span><span>&gt;</span><span> alinks </span><span>=</span><span> collectorAnalyticalLinks</span><span>.</span><span>ToElements</span><span>().</span><span>Cast</span><span>&lt;</span><span>AnalyticalLink</span><span>&gt;();</span><span>
    </span><span>int</span><span> nAutoGeneratedLinks </span><span>=</span><span> </span><span>0</span><span>;</span><span>
    </span><span>int</span><span> nManualLinks </span><span>=</span><span> </span><span>0</span><span>;</span><span>
    </span><span>foreach</span><span> </span><span>(</span><span>AnalyticalLink</span><span> alink </span><span>in</span><span> alinks</span><span>)</span><span>
    </span><span>{</span><span>
        </span><span>if</span><span> </span><span>(</span><span>alink</span><span>.</span><span>IsAutoGenerated</span><span>()</span><span> </span><span>==</span><span> </span><span>true</span><span>)</span><span>
            nAutoGeneratedLinks</span><span>++;</span><span>
        </span><span>else</span><span>
            nManualLinks</span><span>++;</span><span>
    </span><span>}</span><span>
    </span><span>string</span><span> msg </span><span>=</span><span> </span><span>"Auto-generated AnalyticalLinks: "</span><span> </span><span>+</span><span> nAutoGeneratedLinks</span><span>;</span><span>
    msg </span><span>+=</span><span> </span><span>"\nManually created AnalyticalLinks: "</span><span> </span><span>+</span><span> nManualLinks</span><span>;</span><span>
    </span><span>TaskDialog</span><span>.</span><span>Show</span><span>(</span><span>"AnalyticalLinks"</span><span>,</span><span> msg</span><span>);</span><span>
</span><span>}</span></code></pre></td></tr></tbody></table>

The static method AnalyticalLink.Create() creates a new analytical link. Rather than connecting the two elements directly, the connection is created between two Hubs. The Hub class represents a connection between two or more Autodesk Revit Elements.

The following example creates a new analytical link between two selected FamilyInstance objects. It uses a filter to find all Hubs in the model and then the GetHub() method searches the hubs to find one which references the Id of the AnalyticalElement of each FamilyInstance.

<table summary="" id="GUID-1A23FBA5-8781-40F7-8B72-36D58DB7BB7F__TABLE_227CE4F83929460CBB7531D574369930"><tbody><tr><td><b>Code Region: Creating a new AnalyticalLink</b></td></tr><tr><td><pre><code><span>public</span><span> </span><span>void</span><span> </span><span>CreateLink</span><span>(</span><span>Document</span><span> doc</span><span>,</span><span> </span><span>FamilyInstance</span><span> fi1</span><span>,</span><span> </span><span>FamilyInstance</span><span> fi2</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>FilteredElementCollector</span><span> hubCollector </span><span>=</span><span> </span><span>new</span><span> </span><span>FilteredElementCollector</span><span>(</span><span>doc</span><span>);</span><span>
    hubCollector</span><span>.</span><span>OfClass</span><span>(</span><span>typeof</span><span>(</span><span>Hub</span><span>));</span><span>  </span><span>//Get all hubs</span><span>
    </span><span>ICollection</span><span>&lt;</span><span>Element</span><span>&gt;</span><span> allHubs </span><span>=</span><span> hubCollector</span><span>.</span><span>ToElements</span><span>();</span><span>
    </span><span>FilteredElementCollector</span><span> linktypeCollector </span><span>=</span><span> </span><span>new</span><span> </span><span>FilteredElementCollector</span><span>(</span><span>doc</span><span>);</span><span>
    linktypeCollector</span><span>.</span><span>OfClass</span><span>(</span><span>typeof</span><span>(</span><span>AnalyticalLinkType</span><span>));</span><span>
    </span><span>ElementId</span><span> firstLinkType </span><span>=</span><span> linktypeCollector</span><span>.</span><span>ToElementIds</span><span>().</span><span>First</span><span>();</span><span>  </span><span>//Get the first analytical link type.  </span><span>

    </span><span>// Get hub Ids from two selected family instance items</span><span>
    </span><span>ElementId</span><span> startHubId </span><span>=</span><span> </span><span>GetHub</span><span>(</span><span>AnalyticalToPhysicalAssociationManager</span><span>.</span><span>GetAnalyticalToPhysicalAssociationManager</span><span>(</span><span>doc</span><span>)</span><span>
</span><span>.</span><span>GetAssociatedElementId</span><span>(</span><span>fi1</span><span>.</span><span>Id</span><span>),</span><span> allHubs</span><span>);</span><span> 
    </span><span>ElementId</span><span> endHubId </span><span>=</span><span> </span><span>GetHub</span><span>(</span><span>AnalyticalToPhysicalAssociationManager</span><span>.</span><span>GetAnalyticalToPhysicalAssociationManager</span><span>(</span><span>doc</span><span>)</span><span>
</span><span>.</span><span>GetAssociatedElementId</span><span>(</span><span>fi2</span><span>.</span><span>Id</span><span>),</span><span> allHubs</span><span>);</span><span> 
    </span><span>Transaction</span><span> tran </span><span>=</span><span> </span><span>new</span><span> </span><span>Transaction</span><span>(</span><span>doc</span><span>,</span><span> </span><span>"Create Link"</span><span>);</span><span>
    tran</span><span>.</span><span>Start</span><span>();</span><span>
    </span><span>//Create a link between these two hubs.</span><span>
    </span><span>AnalyticalLink</span><span> createdLink </span><span>=</span><span> </span><span>AnalyticalLink</span><span>.</span><span>Create</span><span>(</span><span>doc</span><span>,</span><span> firstLinkType</span><span>,</span><span> startHubId</span><span>,</span><span> endHubId</span><span>);</span><span>  
    tran</span><span>.</span><span>Commit</span><span>();</span><span>
</span><span>}</span><span>

</span><span>//Get the first Hub on a given AnalyticalElement element</span><span>
</span><span>private</span><span> </span><span>ElementId</span><span> </span><span>GetHub</span><span>(</span><span>ElementId</span><span> hostId</span><span>,</span><span> </span><span>ICollection</span><span>&lt;</span><span>Element</span><span>&gt;</span><span> allHubs</span><span>)</span><span>
</span><span>{</span><span>
    </span><span>foreach</span><span> </span><span>(</span><span>Element</span><span> ehub </span><span>in</span><span> allHubs</span><span>)</span><span>
    </span><span>{</span><span>
        </span><span>Hub</span><span> hub </span><span>=</span><span> ehub </span><span>as</span><span> </span><span>Hub</span><span>;</span><span>
        </span><span>ConnectorManager</span><span> manager </span><span>=</span><span> hub</span><span>.</span><span>GetHubConnectorManager</span><span>();</span><span>
        </span><span>ConnectorSet</span><span> connectors </span><span>=</span><span> manager</span><span>.</span><span>Connectors</span><span>;</span><span>
        </span><span>foreach</span><span> </span><span>(</span><span>Connector</span><span> connector </span><span>in</span><span> connectors</span><span>)</span><span>
        </span><span>{</span><span>
            </span><span>ConnectorSet</span><span> refConnectors </span><span>=</span><span> connector</span><span>.</span><span>AllRefs</span><span>;</span><span>
            </span><span>foreach</span><span> </span><span>(</span><span>Connector</span><span> refConnector </span><span>in</span><span> refConnectors</span><span>)</span><span>
            </span><span>{</span><span>
                </span><span>if</span><span> </span><span>(</span><span>refConnector</span><span>.</span><span>Owner</span><span>.</span><span>Id</span><span> </span><span>==</span><span> hostId</span><span>)</span><span>
                </span><span>{</span><span>
                    </span><span>return</span><span> hub</span><span>.</span><span>Id</span><span>;</span><span>
                </span><span>}</span><span>
            </span><span>}</span><span>
        </span><span>}</span><span>
    </span><span>}</span><span>
    </span><span>return</span><span> </span><span>ElementId</span><span>.</span><span>InvalidElementId</span><span>;</span><span>
</span><span>}</span></code></pre></td></tr></tbody></table>
